frontend http80
    bind 0.0.0.0:80
    timeout client 30s
    mode http

    acl app1HelloRequest path_end -i /app1/ # If request path ends with app1, label the request as app1HelloRequest
    acl app2HelloRequest path_end -i /app2/ # If request path ends with app2, label the request as app2HelloRequest


    use_backend app1_hello if app1HelloRequest # use the backend config - "app1_hello" if request is labelled as app1HelloRequest
    use_backend app2_hello if app2HelloRequest # use the backend config - "app2_hello" if request is labelled as app2HelloRequest

    default_backend hello # in case the above acl rules do not apply, use the backend config - hello, and hence the keyword default_backend

backend app1_hello # servers serving app1
    timeout connect 30s
    timeout server 30s
    mode http
    server server1 127.0.0.1:8000
    server server2 127.0.0.1:8001

backend app2_hello # servers serving app2
    timeout connect 30s
    timeout server 30s
    mode http
    server server1 127.0.0.1:8002
    server server2 127.0.0.1:8003

backend hello
    timeout connect 30s
    timeout server 30s
    mode http
    server server1 127.0.0.1:8004
    server server2 127.0.0.1:8005
